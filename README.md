# FastAPI Сервис Управления Отпусками

## Обзор
Этот проект представляет собой веб-систему управления отпусками сотрудников, реализованную с помощью FastAPI. Он позволяет организациям управлять отпусками сотрудников, предоставляя такие функции, как создание записи отпуска, просмотр последних отпусков, проверка отпусков в определенный период времени и удаление записи отпуска.

## Структура
Проект состоит из следующих основных файлов:
- `main.py`: содержит код веб-сервера и API-эндпоинты.
- `database.py`: управляет подключением к базе данных и сессиями.
- `models.py`: определяет модели данных с использованием Pydantic и SQLAlchemy ORM.
- `crud.py`: реализует операции CRUD (Создание, Чтение, Обновление, Удаление) для обработки данных об отпусках.
- `README.md`: предоставляет документацию к проекту.

### main.py
Файл содержит экземпляр приложения FastAPI и определяет следующие эндпоинты:

- POST /vacations/VacationCreate: Создает новую запись об отпуске.
- GET /vacations/read_latest_vacations/{employee_id}: Получает последние три записи об отпусках конкретного сотрудника.
- GET /vacations/read_latest_ten_vacations: Получает последние десять записей об отпусках (дополнительная функция).
- GET /vacations/read_vacations_by_date: Проверяет, кто находится в отпуске в заданный период дат.
- DELETE /vacations/delete/{vacation_id}: Удаляет запись об отпуске по его ID.

Приложение также включает middleware для обработки кросс-доменных запросов (CORS).

### database.py
Определяет подключение к базе данных MySQL с использованием SQLAlchemy, создает сессию и инициализирует схему базы данных.

### models.py
Определяет модели Pydantic для проверки и сериализации входных и выходных данных, а также модели SQLAlchemy для представления таблиц базы данных:

- VacationBase: Базовая модель для данных об отпуске.
- VacationCreate: Наследуется от VacationBase для создания нового отпуска.
- Vacation: Наследуется от VacationBase и включает ID отпуска.
- VacationModel: Модель SQLAlchemy, представляющая таблицу отпусков в базе данных.

### crud.py
Содержит логику для операций CRUD:

- create_vacation: Добавляет новую запись об отпуске в базу данных.
- read_vacations_by_date: Получает отпуски в заданном диапазоне дат.
- read_latest_vacations: Получает последние три отпуска сотрудника.
- read_latest_ten_vacations: Получает последние десять отпусков (не включено в первоначальное ТЗ).
- delete_vacation: Удаляет запись об отпуске из базы данных.

### README.md
Предоставляет подробное руководство для пользователей и разработчиков, объясняющее назначение проекта, как его настроить и использовать.

## Установка
1. Клонируйте репозиторий.
2. Установите требуемые зависимости, используя `pip install -r requirements.txt`.
3. Настройте подключение к базе данных в `database.py`.
4. Запустите сервер, используя `uvicorn main:app --reload`.
